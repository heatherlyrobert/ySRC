#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                ySRC.h                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               ySRC_priv.h                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [è1]  (REPLACE) verify biggies keys checking                             ysrc__replace_biggies                                                                                 ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ysrc__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     move to source mode                  yMODE_enter                 MODE_SOURCE                                                                                           i_equal     0                                                                                                    
     exec     move to replace mode                 yMODE_enter                 UMOD_REPLACE                                                                                          i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         

   GROUP      detailed testing of direct interface                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify mode change with escape                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call biggies                         ysrc__replace_biggies       G_KEY_SPACE    , G_KEY_ESCAPE                                                                         i_equal     1                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     exec     move to replace mode                 yMODE_enter                 UMOD_REPLACE                                                                                          i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         

   COND       verify mode change with return                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call biggies                         ysrc__replace_biggies       G_KEY_SPACE    , G_KEY_RETURN                                                                         i_equal     1                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     exec     move to source mode                  yMODE_enter                 MODE_SOURCE                                                                                           i_equal     0                                                                                                    
     exec     move to replace mode                 yMODE_enter                 UMOD_REPLACE                                                                                          i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         

   COND       attempt any other keys                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call biggies                         ysrc__replace_biggies       G_KEY_SPACE    , 'a'                                                                                  i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     exec     call biggies                         ysrc__replace_biggies       G_KEY_SPACE    , 0                                                                                    i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     exec     call biggies                         ysrc__replace_biggies       G_KEY_SPACE    , '2'                                                                                  i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     exec     call biggies                         ysrc__replace_biggies       G_KEY_SPACE    , '='                                                                                  i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ysrc__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP    [è1]  (REPLACE) verify mode prepper                                      ysrc_replace_prepper                                                                                  ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ysrc__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     move to source mode                  yMODE_enter                 MODE_SOURCE                                                                                           i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       setup test space                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update contents                      - - - - - - - - - - - - -   strlcpy (s_cur->contents, "chup39abrès=are a(6ery,creepï i legen9)of ?[êoat:sucking&pr16o!human]", LEN_RECD);                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->npos = strlen (s_cur->contents);                                                                                                                                                                                                                                                        
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->wide =  38;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->apos =  32;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->bpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->epos =  31;                                                                                                                                                                                                                                                                              
     exec     recalculate                          ysrc_after                                                                                                                        i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (32) : c åÏhup39abrès=are a(6ery,creepï i æ                          

   COND       move to char replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "r"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : r   - - ·   c ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (32) : ¤ åÏhup39abrès=are a(6ery,creepï i æ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       leave char replace                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (32) : c åÏhup39abrès=are a(6ery,creepï i æ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       move to string replace                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "R"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   c ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (32) : ¤ åÏhup39abrès=are a(6ery,creepï i æ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       leave string replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (32) : c åÏhup39abrès=are a(6ery,creepï i æ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ysrc__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (REPLACE) verify backslash entries in detailed functions           ysrc__replace_escaped                                                                                 ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ysrc__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     move to source mode                  yMODE_enter                 MODE_SOURCE                                                                                           i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       setup test space                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update contents                      - - - - - - - - - - - - -   strlcpy (s_cur->contents, "five, two, three, one, and four"                                      , LEN_RECD);                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->npos = strlen (s_cur->contents);                                                                                                                                                                                                                                                        
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->wide =  56;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->apos =  50;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->bpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->epos =  49;                                                                                                                                                                                                                                                                              
     exec     run words                            ysrc_after                                                                                                                 i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : f åÏive, two, three, one, and fouræ                          

   COND       move to a new location                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =   3;                                                                                                                                                                                                                                                                              
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : e åfivÏ, two, three, one, and fouræ                          

   COND       move to char replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "r"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : r   - - ·   e ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfivÏ, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       verify starting RETURN backslash                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '\\'                                                                                i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : r   - - ·   e Ô                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfivÏ, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       verify completing backslash                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , 'n'                                                                                 i_greater   0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¦ åfivÏ, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 1/ 0) : å0·r3e¦,æ                                                                               

   COND       move to a new location                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =  20;                                                                                                                                                                                                                                                                              
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : e åfiv¦, two, three, onÏ, and fouræ                          
     exec     call main handler (reset)            yKEYS_string                "·"                                                                                                   i_greater   0                                                                                                    

   COND       move to string replace                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "R"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   e ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, three, onÏ, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 1/ 0) : å0·r3e¦,æ                                                                               

   COND       verify starting TRUE backslash                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '\\'                                                                                i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   e Ô                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, three, onÏ, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 1/ 0) : å0·r3e¦,æ                                                                               

   COND       verify continue TRUE backslash                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '_'                                                                                 i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   e Ö                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, three, onÏ, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 1/ 0) : å0·r3e¦,æ                                                                               

   COND       verify completing backslash                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , 't'                                                                                 i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   , ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, three, onšÏ and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r3e¦,1·rkeš,æ                                                                               

   COND       leave string replace (move right one)                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : , åfiv¦, two, three, onšÏ and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r3e¦,1·rkeš,æ                                                                               

   COND       move to a new location                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =  11;                                                                                                                                                                                                                                                                              
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : t åfiv¦, two, Ïhree, onš, and fouræ                          

   COND       move to char replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "R"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   t ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, Ïhree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r3e¦,1·rkeš,æ                                                                               

   COND       verify starting illegal backslash                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '\\'                                                                                i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   t Ô                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, Ïhree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r3e¦,1·rkeš,æ                                                                               

   COND       verify continue illegal backslash                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '_'                                                                                 i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   t Ö                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, Ïhree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r3e¦,1·rkeš,æ                                                                               

   COND       verify completing backslash                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '?'                                                                                 i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   h ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, ¢Ïree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 3/ 2) : å0·r3e¦,1·rkeš,2·rbt¢,æ                                                                       

   COND       leave string replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : h åfiv¦, two, ¢Ïree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 3/ 2) : å0·r3e¦,1·rkeš,2·rbt¢,æ                                                                       

   COND       move to char replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "R"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   h ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, ¢Ïree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 3/ 2) : å0·r3e¦,1·rkeš,2·rbt¢,æ                                                                       

   COND       verify starting aborted backslash                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     add one                              ysrc__replace_escaped       G_KEY_SPACE    , '\\'                                                                                i_greater   0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   h Ô                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfiv¦, two, ¢Ïree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 3/ 2) : å0·r3e¦,1·rkeš,2·rbt¢,æ                                                                       

   COND       leave string replace                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : h åfiv¦, two, ¢Ïree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 3/ 2) : å0·r3e¦,1·rkeš,2·rbt¢,æ                                                                       

   GROUP      limited testing of source mode interface                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify a character replace                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "0··rµG··L"                                                                                           i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : · åêiv¦,Ïtwo, ¢hree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 4/ 3) : å0·r3e¦,1·rkeš,2·rbt¢,4·r0fê,æ                                                                        

   COND       verify a character replace                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "RµBµDµE¥"                                                                                            i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : o åêiv¦,éëìÏ, ¢hree, onš, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 7/ 6) : å0·r3e¦,1·rkeš,2·rbt¢,4·r0fê,5·r5·é,5·r6të,5·r7wì,æ                                                                        

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ysrc__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (REPLACE) verify editing in detailed functions                     ysrc__replace_editing                                                                                 ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ysrc__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     move to source mode                  yMODE_enter                 MODE_SOURCE                                                                                           i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       setup test space                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update contents                      - - - - - - - - - - - - -   strlcpy (s_cur->contents, "five, two, three, one, and four"                                      , LEN_RECD);                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->npos = strlen (s_cur->contents);                                                                                                                                                                                                                                                        
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->wide =  56;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->apos =  50;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->bpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->epos =  49;                                                                                                                                                                                                                                                                              
     exec     run words                            ysrc_after                                                                                                                 i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : f åÏive, two, three, one, and fouræ                          

   COND       verify string replace movement at beginning                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "R"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   f ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åÏive, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       attempt backspace at beginning                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     move left                            ysrc__replace_editing       G_KEY_SPACE    , G_KEY_BS                                                                             i_lesser    0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   f ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åÏive, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       verify delete at beginning                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     move right                           ysrc__replace_editing       G_KEY_SPACE    , G_KEY_DEL                                                                            i_equal     1                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   i ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfÏve, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       leave edit mode                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : i åfÏve, two, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       move to a new location                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =  s_cur->npos - 1;                                                                                                                                                                                                                                                                 
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : r åfive, two, three, one, and fouÏæ                          

   COND       verify string replace movement ending                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "R"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (3) M S r - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   r ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfive, two, three, one, and fouÏæ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       attempt delete at ending                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     move right                           ysrc__replace_editing       G_KEY_SPACE    , G_KEY_DEL                                                                            i_lesser    0                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   r ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfive, two, three, one, and fouÏæ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       verify backspace at ending                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     move left                            ysrc__replace_editing       G_KEY_SPACE    , G_KEY_BS                                                                             i_equal     1                                                                                                    
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : R   - - ·   u ·                                                                     
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¤ åfive, two, three, one, and foÏræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       leave edit mode                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "¥"                                                                                                   i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : u åfive, two, three, one, and foÏræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ysrc__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (REPLACE) verify mode functioning, with undo/redo                  ysrc_replace_umode, ysrc_sundo_undo, ysrc_sundo_redo                                                  ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ysrc__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     move to source mode                  yMODE_enter                 MODE_SOURCE                                                                                           i_equal     0                                                                                                    
     get      ... mode stack                       yMODE__unit                 "stack"        , 0                                                                                    s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     get      ... replace stats                    ySRC__unit                  "replace"      , 0                                                                                    s_equal     SRC replace      : -   - - ·   £ ·                                                                     
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 0/-1) : åæ                                                                               

   COND       setup test space                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update contents                      - - - - - - - - - - - - -   strlcpy (s_cur->contents, "five, two, three, one, and four"                                      , LEN_RECD);                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->npos = strlen (s_cur->contents);                                                                                                                                                                                                                                                        
     code     update position                      - - - - - - - - - - - - -   s_cur->cpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->wide =  56;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->apos =  50;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->bpos =   0;                                                                                                                                                                                                                                                                              
     code     update length                        - - - - - - - - - - - - -   s_cur->epos =  49;                                                                                                                                                                                                                                                                              
     exec     run words                            ysrc_after                                                                                                                 i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : f åÏive, two, three, one, and fouræ                          

   GROUP      simple, single character actions                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify a single character update                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "··rX"                                                                                                i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : X åÏive, two, three, one, and fouræ                          
     get      ... check undo queue (1 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 1/ 0) : å0·r0fX,æ                                                                        

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "u"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : f åÏive, two, three, one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : X åÏive, two, three, one, and fouræ                          

   COND       verify a single character escape                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2l··rµG··2l"                                                                                         i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : , åXiêeÏ two, three, one, and fouræ                          
     get      ... check undo queue (1 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r0fX,1·r2vê,æ                                                                 

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : f åÏive, two, three, one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : X åÏive, two, three, one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ê åXiÏe, two, three, one, and fouræ                          

   COND       verify a single character illegal character (no change)            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "5|··2l··r\t··2l"                                                                                     i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : o åXiêe, twÏ, three, one, and fouræ                          
     get      ... check undo queue                 ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 2/ 1) : å0·r0fX,1·r2vê,æ                                                                 

   COND       verify a single character space change                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2l··r ··2l"                                                                                          i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : h åXiêe, two,²tÏree, one, and fouræ                          
     get      ... check undo queue (1 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo ( 3/ 2) : å0·r0fX,1·r2vê,3·ra·²,æ                                                          

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : v åXiÏe, two,·three, one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ê åXiÏe, two,·three, one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ² åXiêe, two,Ïthree, one, and fouræ                          

   GROUP      simple string actions                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify a string replace                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "13|··2l··R(fixing)¥··2l"                                                                             i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : n åXiêe, two,²thr(fixing) aÏd fouræ                          
     get      ... check undo queue (8 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo (11/10) : å1·r2vê,3·ra·²,4·ree(,4·rfef,4·rg,i,4·rh·x,4·rioi,4·rjnn,4·rkeg,4·rl,),æ                                                          

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : · åXiêe, two,Ïthree,·one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ² åXiêe, two,Ïthree,·one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ) åXiêe, two,²thr(fixingÏ and fouræ                          

   COND       verify a string replace with escapes                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "0···R[µnnµee]¥"                                                                                      i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : t å[¦n¥e]Ïwo,²thr(fixing) and fouræ                          
     get      ... check undo queue (6 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo (17/16) : å4·rioi,4·rjnn,4·rkeg,4·rl,),5·r0X[,5·r1i¦,5·r2ên,5·r3e¥,5·r4,e,5·r5·],æ                                                          

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : e åXiêe,·two,²thrÏe,·one, and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ) åXiêe,·two,²thr(fixingÏ and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ] å[¦n¥eÏtwo,²thr(fixing) and fouræ                          

   COND       verify a string replace with movement                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "7|··l···R1¾2¾3¿¿4¥··l"                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : h å[¦n¥e]t1o243Ïr(fixing) and fouræ                          
     get      ... check undo queue (4 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo (21/20) : å5·r0X[,5·r1i¦,5·r2ên,5·r3e¥,5·r4,e,5·r5·],6·r7w1,6·r9,2,6·rbt3,6·ra²4,æ                                                          

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : X åÏiêe,·two,²thr(fixing) and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ] å[¦n¥eÏtwo,²thr(fixing) and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : 4 å[¦n¥e]t1o2Ï3hr(fixing) and fouræ                          

   COND       verify a string replace past end                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "$···R more text¥"                                                                                     i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : t å[¦n¥e]t1o243hr(fixing) and fou²more²texÏæ                 
     get      ... check undo queue (10 new)        ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo (31/30) : å7·rur²,7·rv£m,7·rw£o,7·rx£r,7·ry£e,7·rz£²,7·rA£t,7·rB£e,7·rC£x,7·rD£t,æ                                                          

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : w å[¦n¥e]tÏo,²thr(fixing) and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : 4 å[¦n¥e]t1o2Ï3hr(fixing) and fouræ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : t å[¦n¥e]t1o243hr(fixing) and fou²more²texÏæ                 

   GROUP      repeating actions                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify a single character repeat                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "15|·3r#·2l"                                                                                          i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : i å[¦n¥e]t1o243hr###xÏng) and fou²more²textæ                 
     get      ... check undo queue (3 new)         ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo (34/33) : å7·rx£r,7·ry£e,7·rz£²,7·rA£t,7·rB£e,7·rC£x,7·rD£t,8·re(#,8·rff#,8·rgi#,æ                                                          

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : r å[¦n¥e]t1o243hr(fixing) and fouÏæ                          
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : t å[¦n¥e]t1o243hr(fixing) and fou²more²texÏæ                 
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : # å[¦n¥e]t1o243hr##Ïxing) and fou²more²textæ                 

   COND       verify a single character repeat with escape                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "20|·10rµ!·2l"                                                                                        i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ² å[¦n¥e]t1o243hr###xi¡¡¡¡¡¡¡¡¡¡uÏmore²textæ                 
     get      ... check undo queue (10 new)        ySRC__unit                  "undo"         , 0                                                                                    s_equal     SRC undo (44/43) : å9·rjn¡,9·rkg¡,9·rl)¡,9·rm·¡,9·rna¡,9·ron¡,9·rpd¡,9·rq·¡,9·rrf¡,9·rso¡,æ                                                                                                                         

   COND       verify undo/redo                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call main handler                    yKEYS_string                "2u"                                                                                                  i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ( å[¦n¥e]t1o243hrÏfixing)·and·fou²more²textæ                 
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : # å[¦n¥e]t1o243hr##Ïxing)·and·fou²more²textæ                 
     exec     call main handler                    yKEYS_string                "U"                                                                                                   i_equal     0                                                                                                    
     get      ... check display                    ySRC__unit                  "display"      , 0                                                                                    s_equal     SRC display (50) : ¡ å[¦n¥e]t1o243hr###xi¡¡¡¡¡¡¡¡¡Ïu²more²textæ                 

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ysrc__unit_end                                                                                                                    i_equal     0                                                                                                    



